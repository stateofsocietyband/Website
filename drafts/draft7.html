<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>State of Society | Grunge Rock Band</title>

<!-- DNS prefetch for external origins -->
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!-- Non-blocking font load -->
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Special+Elite&display=swap" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Special+Elite&display=swap"></noscript>

<style>
/* Dropped Rubik ‚Äî unused. Dropped --fire-red, --electric-blue, --beach-sand, --warning-yellow ‚Äî unused. */
:root{
  --concrete:#1a1a1a;
  --orange:#ff5722;
  --blue:#29b6f6;
  --white:#fafafa;
  --gray:#616161;
  --font-d:'Bebas Neue',Impact,'Arial Narrow',sans-serif;
  --font-b:'Special Elite','Courier New',serif;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:var(--font-b);
  background:#000;
  color:var(--white);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* Grain ‚Äî CSS-only, no JS, no image */
body::before{
  content:'';
  position:fixed;inset:0;
  background-image:
    repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.08) 2px,rgba(0,0,0,.08) 4px),
    repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(0,0,0,.08) 2px,rgba(0,0,0,.08) 4px);
  pointer-events:none;z-index:5;
}

/* Nav ‚Äî contain:layout stops browser recalculating rest of page on nav repaint */
nav{
  position:fixed;top:0;width:100%;
  background:rgba(0,0,0,.95);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  padding:1rem 2rem;z-index:1000;
  border-bottom:2px solid var(--orange);
  box-shadow:0 4px 20px rgba(255,87,34,.3);
  contain:layout style;
}
nav ul{list-style:none;display:flex;justify-content:center;gap:2rem;flex-wrap:wrap}
nav a{
  color:var(--white);text-decoration:none;
  font-family:var(--font-d);
  font-size:1.3rem;letter-spacing:2px;
  transition:color .3s;
  position:relative;
  text-shadow:2px 2px 4px rgba(0,0,0,.8);
  padding:.5rem;display:inline-block;
}
nav a::after{
  content:'';position:absolute;bottom:-5px;left:0;
  width:0;height:2px;
  background:linear-gradient(90deg,var(--orange),var(--blue));
  transition:width .3s;
}
nav a:hover{color:var(--orange);text-shadow:0 0 10px var(--orange),2px 2px 4px rgba(0,0,0,.8)}
nav a:hover::after{width:100%}

/* Hero */
.hero{
  height:100vh;display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  position:relative;padding-top:240px;
  background:
    radial-gradient(circle at 50% 40%,rgba(255,87,34,.35) 0%,transparent 40%),
    radial-gradient(circle at 70% 30%,rgba(41,182,246,.15) 0%,transparent 50%),
    linear-gradient(180deg,rgba(0,0,0,.3) 0%,#0d0d0d 100%),#000;
}
.hero::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(45deg,transparent,transparent 30px,rgba(255,87,34,.04) 30px,rgba(255,87,34,.04) 60px);
  pointer-events:none;
}

/* EP Slideshow ‚Äî contain:strict limits paint/layout to this box */
.ep-showcase{
  position:relative;max-width:475px;width:100%;
  margin:3rem auto 1.5rem;z-index:10;
  contain:layout;
}
.slideshow-container{
  position:relative;width:100%;padding-bottom:100%;
  overflow:hidden;
  background:linear-gradient(135deg,rgba(26,26,26,.95),rgba(13,13,13,.95));
  border:2px solid var(--orange);
  box-shadow:4px 4px 0 rgba(0,0,0,.6),0 0 20px rgba(255,87,34,.3);
}
.ep-cover{
  position:absolute;inset:0;
  display:none;opacity:0;
  transition:opacity .8s ease-in-out;
}
.ep-cover.active{display:block;opacity:1}
.ep-cover img{width:100%;height:100%;object-fit:cover;display:block}
.slideshow-dots{text-align:center;padding:.6rem 0;position:relative;z-index:11}
.dot{
  height:8px;width:8px;margin:0 4px;
  background-color:var(--gray);
  border:1px solid var(--orange);
  display:inline-block;
  transition:background-color .3s,transform .3s;
  cursor:pointer;transform:rotate(45deg);
}
.dot:hover{background-color:var(--blue);transform:rotate(45deg) scale(1.2)}
.dot.active{background-color:var(--orange);transform:rotate(45deg) scale(1.3)}

/* Tagline */
.tagline{
  font-family:var(--font-b);
  font-size:clamp(1.4rem,4vw,2.5rem);
  text-align:center;margin:2rem 0 6rem;
  letter-spacing:4px;text-transform:uppercase;
  color:var(--white);
  text-shadow:3px 3px 6px rgba(0,0,0,.8),0 0 20px rgba(255,87,34,.4);
  position:relative;z-index:10;
  line-height:1.6;
}

/* Sections ‚Äî content-visibility skips rendering off-screen sections until needed */
section{
  padding:4rem 2rem;max-width:1400px;margin:0 auto;position:relative;
  content-visibility:auto;
  contain-intrinsic-size:0 600px;
}
.hero{content-visibility:visible;contain-intrinsic-size:none}

.section-title{
  font-family:var(--font-d);
  font-size:clamp(2.5rem,6vw,4rem);
  text-align:center;margin-bottom:3rem;
  letter-spacing:4px;color:var(--white);
  text-shadow:4px 4px 8px rgba(0,0,0,.9),0 0 30px rgba(255,87,34,.5);
  position:relative;display:inline-block;width:100%;
  transform:rotate(-1deg);
}
.section-title::after{
  content:'';position:absolute;bottom:-10px;left:50%;
  transform:translateX(-50%);width:60%;height:3px;
  background:linear-gradient(90deg,transparent,var(--orange),var(--blue),transparent);
}

/* About */
.about-content{max-width:800px;margin:0 auto;text-align:center}
.about-content p{
  font-size:clamp(1.1rem,2.5vw,1.4rem);
  line-height:1.8;color:var(--white);
  text-shadow:2px 2px 4px rgba(0,0,0,.8);font-weight:300;
}

/* Albums */
.albums{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:2rem;margin-top:2rem;
}
.album{
  background:linear-gradient(135deg,rgba(26,26,26,.95),rgba(13,13,13,.95));
  padding:2rem;
  border:2px solid var(--concrete);
  border-left:4px solid var(--orange);
  box-shadow:8px 8px 0 rgba(0,0,0,.5),0 0 30px rgba(255,87,34,.2);
  transform:rotate(-.5deg);
  transition:transform .3s,border-left-color .3s,box-shadow .3s;
}
.album:hover{
  transform:rotate(0deg) translateY(-5px);
  border-left-color:var(--blue);
  box-shadow:12px 12px 0 rgba(0,0,0,.6),0 0 40px rgba(41,182,246,.3);
}
.album h3{font-family:var(--font-d);font-size:2rem;margin-bottom:1rem;color:var(--orange);text-shadow:2px 2px 4px rgba(0,0,0,.8);letter-spacing:2px}
.album p{color:var(--gray);margin-bottom:1rem;font-size:1.1rem}
.album ul{list-style:none}
.album li{padding:.5rem 0;border-bottom:1px solid rgba(97,97,97,.3);color:var(--white);font-size:1rem}
.album li:last-child{border-bottom:none}
.album a{color:var(--white);text-decoration:none;transition:color .3s}
.album a:hover{color:var(--blue)}

/* Shows */
.shows-list{display:flex;flex-direction:column;gap:1.5rem}
.show{
  background:linear-gradient(135deg,rgba(26,26,26,.95),rgba(13,13,13,.95));
  padding:2rem;border-left:4px solid var(--blue);
  box-shadow:6px 6px 0 rgba(0,0,0,.5);
  display:grid;grid-template-columns:120px 1fr auto;
  gap:2rem;align-items:center;
  transition:transform .3s,box-shadow .3s;
}
.show:hover{transform:translateX(5px);box-shadow:10px 10px 0 rgba(0,0,0,.6)}
.show-date{font-family:var(--font-d);font-size:2.5rem;color:var(--orange);text-align:center;line-height:1.1}
.show-date .month{display:block;font-size:1.2rem;color:var(--gray)}
.show-details h4{font-family:var(--font-d);font-size:1.8rem;margin-bottom:.5rem;letter-spacing:1px}
.show-details p{color:var(--gray);font-size:1rem}
.show-btn{
  background:var(--orange);color:#000;
  padding:1rem 2rem;border:none;
  font-family:var(--font-d);
  font-size:1.2rem;letter-spacing:1px;cursor:pointer;
  transition:background-color .3s,transform .3s,box-shadow .3s;
  text-decoration:none;display:inline-block;
  box-shadow:4px 4px 0 rgba(0,0,0,.5);
  min-height:44px;min-width:44px;
}
.show-btn:hover{background:var(--blue);transform:translate(-2px,-2px);box-shadow:6px 6px 0 rgba(0,0,0,.6)}

/* Social */
.social-links{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap}
.social-links a{
  font-family:var(--font-d);
  font-size:1.8rem;color:var(--white);
  text-decoration:none;padding:1rem 2rem;
  border:2px solid var(--orange);
  background:rgba(26,26,26,.8);
  transition:background-color .3s,color .3s,transform .3s,box-shadow .3s;
  letter-spacing:2px;
  box-shadow:6px 6px 0 rgba(0,0,0,.5);
}
.social-links a:hover{background:var(--orange);color:#000;transform:translate(-3px,-3px);box-shadow:9px 9px 0 rgba(0,0,0,.6)}

/* Footer */
footer{
  text-align:center;padding:2rem;
  background:#0d0d0d;
  border-top:2px solid var(--orange);
  font-family:var(--font-b);letter-spacing:2px;
}

/* Fade-in */
.fade-in{opacity:0;transform:translateY(30px);transition:opacity .8s ease,transform .8s ease}
.fade-in.visible{opacity:1;transform:translateY(0)}

/* Responsive */
@media(max-width:768px){
  nav{padding:.8rem 1rem}
  nav ul{gap:.8rem}
  nav a{font-size:1rem;letter-spacing:1px}
  .hero{padding-top:160px;min-height:100vh}
  .ep-showcase{max-width:280px;margin:1.5rem auto 1rem}
  .slideshow-container{box-shadow:3px 3px 0 rgba(0,0,0,.6),0 0 15px rgba(255,87,34,.3)}
  .tagline{font-size:1.2rem;letter-spacing:2px;margin:1.5rem 1rem}
  .section-title{font-size:2.5rem;margin-bottom:2rem}
  .show{grid-template-columns:1fr;text-align:center;gap:1rem}
  .show-date{font-size:2rem}
  .albums{grid-template-columns:1fr;gap:1.5rem}
  .album{padding:1.5rem}
  .social-links{flex-direction:column;gap:1rem}
  .social-links a{width:100%;text-align:center}
  section{padding:3rem 1.5rem}
  .about-content p{font-size:1.1rem}
  footer{padding:1.5rem;font-size:.9rem}
}
@media(max-width:480px){
  .ep-showcase{max-width:240px;margin:1rem auto .75rem}
  .tagline{font-size:1rem}
  .section-title{font-size:2rem}
  nav a{font-size:.9rem}
  .album h3{font-size:1.6rem}
  .show-details h4{font-size:1.5rem}
}

/* EP Teaser Player */
.ep-teaser{
  max-width:600px;margin:0 auto 3rem;
  background:linear-gradient(135deg,rgba(26,26,26,.95),rgba(13,13,13,.95));
  border:2px solid var(--orange);
  border-left:4px solid var(--orange);
  box-shadow:6px 6px 0 rgba(0,0,0,.5),0 0 30px rgba(255,87,34,.2);
  padding:1.8rem 2rem;
  text-align:center;
}
.ep-teaser-label{
  font-family:var(--font-d);
  font-size:1.6rem;letter-spacing:3px;
  color:var(--orange);
  text-shadow:2px 2px 4px rgba(0,0,0,.8),0 0 10px rgba(255,87,34,.4);
  margin-bottom:1.4rem;
}
.ep-teaser-controls{
  display:flex;align-items:center;gap:1rem;margin-bottom:1.2rem;
}
.ep-btn{
  background:var(--orange);color:#000;
  border:none;cursor:pointer;
  font-family:var(--font-d);font-size:1.1rem;letter-spacing:1px;
  padding:.65rem 1.5rem;
  box-shadow:4px 4px 0 rgba(0,0,0,.6);
  transition:background-color .2s,transform .2s,box-shadow .2s;
  min-height:44px;white-space:nowrap;
}
.ep-btn:hover{
  background:var(--blue);
  transform:translateY(-2px);
  box-shadow:4px 6px 0 rgba(0,0,0,.7);
}
.ep-btn:active{transform:translateY(0);box-shadow:2px 2px 0 rgba(0,0,0,.5)}
.ep-btn-stop{
  background:transparent;
  color:var(--orange);
  border:2px solid var(--orange);
}
.ep-btn-stop:hover{
  background:var(--orange);
  color:#000;
}
.ep-progress-wrap{
  flex:1;height:8px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,87,34,.4);
  cursor:pointer;position:relative;
  box-shadow:inset 0 1px 3px rgba(0,0,0,.5);
}
.ep-progress-bar{
  height:100%;width:0%;
  background:linear-gradient(90deg,var(--orange),var(--blue));
  box-shadow:0 0 8px rgba(255,87,34,.6);
  transition:width .1s linear;pointer-events:none;
}
.ep-time{
  font-size:.9rem;color:var(--gray);
  font-family:var(--font-b);
  white-space:nowrap;min-width:36px;text-align:right;
}
.ep-yt-link{
  display:inline-block;margin-top:.2rem;
  color:var(--blue);text-decoration:none;
  font-family:var(--font-b);font-size:.95rem;letter-spacing:1px;
  border-bottom:1px solid transparent;
  transition:color .3s,border-color .3s;
}
.ep-yt-link:hover{color:var(--orange);border-color:var(--orange)}

/* Respect reduced-motion preference */
@media(prefers-reduced-motion:reduce){
  .fade-in,.ep-cover,.album,.show,.show-btn,.social-links a{transition:none}
}
</style>
</head>
<body>

<nav>
  <ul>
    <li><a href="#about">About</a></li>
    <li><a href="#music">Music</a></li>
    <li><a href="#shows">Shows</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>

<section class="hero">
  <div class="ep-showcase">
    <div class="slideshow-container">
      <div class="ep-cover active">
        <img src="EPCOVERFRONTEP4000x4000.jpg"
             alt="SoS EP Cover"
             width="475" height="475"
             fetchpriority="high"
             decoding="async">
      </div>
      <div class="ep-cover">
        <img src="EPCOVERTRACKLIST4000x4000.jpg"
             alt="EP Tracklist"
             width="475" height="475"
             loading="lazy" decoding="async">
      </div>
      <div class="ep-cover">
        <img src="VJ2.jpg"
             alt="Jay - Vocals, Guitar"
             width="475" height="475"
             loading="lazy" decoding="async">
      </div>
      <div class="ep-cover">
        <img src="v2.jpg"
             alt="Valentin - Lead Guitar"
             width="475" height="475"
             loading="lazy" decoding="async">
      </div>
      <div class="ep-cover">
        <img src="andy.jpg"
             alt="Andy - Bass"
             width="475" height="475"
             loading="lazy" decoding="async">
      </div>
      <div class="ep-cover">
        <img src="622677960_900117672818777_3854420585176619503_n.jpg"
             alt="Vince - Drums"
             width="475" height="475"
             loading="lazy" decoding="async">
      </div>
    </div>
    <div class="slideshow-dots" role="tablist" aria-label="Slideshow navigation">
      <span class="dot active" role="tab" aria-label="Slide 1" tabindex="0" data-slide="1"></span>
      <span class="dot" role="tab" aria-label="Slide 2" tabindex="0" data-slide="2"></span>
      <span class="dot" role="tab" aria-label="Slide 3" tabindex="0" data-slide="3"></span>
      <span class="dot" role="tab" aria-label="Slide 4" tabindex="0" data-slide="4"></span>
      <span class="dot" role="tab" aria-label="Slide 5" tabindex="0" data-slide="5"></span>
      <span class="dot" role="tab" aria-label="Slide 6" tabindex="0" data-slide="6"></span>
    </div>
  </div>
  <p class="tagline">‚ò£Ô∏èRaw Fucking Sound.‚ò£Ô∏è<br>‚ö°Real Fucking Noise.‚ö°</p>
</section>

<section id="about" style="padding-top:8rem">
  <h2 class="section-title fade-in">Who We Are</h2>
  <div class="about-content fade-in">
    <p>Based in Hamilton, Ontario, Canada - State of Society blend catchy hooks to loud rock anthems. Sounding like the 90s band you never heard...Until now!</p>
  </div>
</section>

<section id="music">
  <h2 class="section-title fade-in">Our Sound</h2>
  <!-- EP Teaser Audio Player -->
  <div class="ep-teaser fade-in">
    <div class="ep-teaser-label">üéß EP Teaser ‚Äî Have A Listen</div>
    <audio id="epTeaser" preload="auto">
      <source src="EPTeaser.mp3" type="audio/mpeg">
    </audio>
    <div class="ep-teaser-controls">
      <button class="ep-btn" id="epPlay">‚ñ∂ PLAY</button>
      <div class="ep-progress-wrap" id="epProgressWrap">
        <div class="ep-progress-bar" id="epProgressBar"></div>
      </div>
      <button class="ep-btn ep-btn-stop" id="epStop">‚ñ† STOP</button>
      <span class="ep-time" id="epTime">0:00</span>
    </div>
    <a class="ep-yt-link" href="https://www.youtube.com/@StateofSociety-s3w" target="_blank" rel="noopener">‚ñ∂ Listen to the Full EP on YouTube ‚Üí</a>
  </div>

  <div class="albums">
    <div class="album fade-in">
      <h3>Latest EP - SoS - Click to Listen!</h3>
      <p>2026 ‚Ä¢ 5 Tracks</p>
      <ul>
        <li><a href="https://www.youtube.com/watch?v=CYST0605w8o" target="_blank" rel="noopener">Fracturing (3:53)</a></li>
        <li><a href="https://www.youtube.com/watch?v=Wq-9-f2WFYM" target="_blank" rel="noopener">Manic Pixie Dream Girl (4:49)</a></li>
        <li><a href="https://www.youtube.com/watch?v=82x7ct02ARc" target="_blank" rel="noopener">Bonfire (3:47)</a></li>
        <li><a href="https://www.youtube.com/watch?v=P4cS9peoNnk" target="_blank" rel="noopener">Elephant (4:22)</a></li>
        <li><a href="https://www.youtube.com/watch?v=DSRbyZh3BaI" target="_blank" rel="noopener">Heart Confetti (3:26)</a></li>
      </ul>
    </div>
    <div class="album fade-in">
      <h3>The Band</h3>
      <p>Members</p>
      <ul>
        <li>Jay Coombes - Vocals, Guitar</li>
        <li>Valentin Nutu - Lead Guitar</li>
        <li>Andy Brierley - Bass</li>
        <li>Vince Seguin - Drums</li>
      </ul>
    </div>
    <div class="album fade-in">
      <h3>Listen Here</h3>
      <p>Choose Platform</p>
      <ul>
        <li><a href="https://open.spotify.com/artist/6PZRpxAJSWE9dbF7Jq02Cd?si=Cc5w_bHmR9u3s6U7OuKCxg" target="_blank" rel="noopener">Spotify</a></li>
        <li><a href="https://www.youtube.com/@StateofSociety-s3w" target="_blank" rel="noopener">YouTube</a></li>
        <li><a href="https://music.amazon.ca/albums/B0GKVH6F4D?marketplaceId=A2EUQ1WTGCTBG2&musicTerritory=CA&ref=dm_sh_sUTCfQR2xVmqePKgCcRqTqi2U" target="_blank" rel="noopener">Amazon Music</a></li>
        <li><a href="https://music.apple.com/us/artist/state-of-society/1873505282" target="_blank" rel="noopener">Apple Music</a></li>
      </ul>
    </div>
  </div>
</section>

<section id="shows">
  <h2 class="section-title fade-in">Live Dates</h2>
  <div class="shows-list">
    <div class="show fade-in">
      <div class="show-date">
        29
        <span class="month">MAR</span>
      </div>
      <div class="show-details">
        <h4>Ooey Gooey's</h4>
        <p>Hamilton, ON &mdash; Doors @ 7PM</p>
      </div>
    </div>
  </div>
</section>

<section id="contact">
  <h2 class="section-title fade-in">Get Connected</h2>
  <div class="social-links fade-in">
    <a href="https://open.spotify.com/artist/6PZRpxAJSWE9dbF7Jq02Cd?si=jpBMJvHPSxO5psmqNpj3yQ" target="_blank" rel="noopener">Spotify</a>
    <a href="https://www.instagram.com/stateofsocietyband/" target="_blank" rel="noopener">Instagram - DM To Book</a>
    <a href="https://www.youtube.com/@StateofSociety-s3w" target="_blank" rel="noopener">YouTube</a>
  </div>
</section>

<footer>
  <p>¬© 2026 State of Society. All rights reserved. Stay loud.</p>
</footer>

<!-- All JS deferred to after paint ‚Äî does not block rendering -->
<script>
(function(){
  'use strict';

  // Slideshow
  var covers = document.getElementsByClassName('ep-cover');
  var dots   = document.getElementsByClassName('dot');
  var current = 1, timer;

  function goTo(n){
    if(n > covers.length) n = 1;
    if(n < 1) n = covers.length;
    current = n;
    for(var i = 0; i < covers.length; i++){
      covers[i].classList.toggle('active', i === current-1);
      dots[i].classList.toggle('active',   i === current-1);
    }
  }

  function startAuto(){
    clearTimeout(timer);
    timer = setTimeout(function tick(){
      goTo(current+1);
      timer = setTimeout(tick, 4000);
    }, 4000);
  }

  // Single delegated listener per container
  document.querySelector('.slideshow-dots').addEventListener('click', function(e){
    var s = e.target.dataset.slide;
    if(s){ goTo(+s); startAuto(); }
  });
  document.querySelector('.slideshow-dots').addEventListener('keydown', function(e){
    var s = e.target.dataset.slide;
    if(s && (e.key==='Enter'||e.key===' ')){ e.preventDefault(); goTo(+s); startAuto(); }
  });

  var showcase = document.querySelector('.slideshow-container');
  showcase.addEventListener('mouseenter', function(){ clearTimeout(timer); });
  showcase.addEventListener('mouseleave', startAuto);

  goTo(1);
  startAuto();

  // Smooth scroll
  document.querySelectorAll('a[href^="#"]').forEach(function(a){
    a.addEventListener('click', function(e){
      var t = document.querySelector(this.getAttribute('href'));
      if(t){ e.preventDefault(); t.scrollIntoView({behavior:'smooth',block:'start'}); }
    });
  });

  // Fade-in via IntersectionObserver
  var observer = new IntersectionObserver(function(entries){
    entries.forEach(function(entry){
      if(entry.isIntersecting){
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  },{threshold:0.1,rootMargin:'0px 0px -100px 0px'});

  document.querySelectorAll('.fade-in').forEach(function(el){ observer.observe(el); });

  // EP Teaser Player
  (function(){
    var audio   = document.getElementById('epTeaser');
    var playBtn = document.getElementById('epPlay');
    var stopBtn = document.getElementById('epStop');
    var bar     = document.getElementById('epProgressBar');
    var wrap    = document.getElementById('epProgressWrap');
    var timeEl  = document.getElementById('epTime');

    function fmt(s){
      s = Math.floor(s||0);
      return Math.floor(s/60)+':'+(s%60<10?'0':'')+s%60;
    }

    playBtn.addEventListener('click',function(){
      if(audio.paused){
        audio.play().then(function(){
          playBtn.textContent='‚è∏ PAUSE';
        }).catch(function(){ playBtn.textContent='‚ñ∂ PLAY'; });
      } else {
        audio.pause();
        playBtn.textContent='‚ñ∂ PLAY';
      }
    });

    stopBtn.addEventListener('click',function(){
      audio.pause();
      audio.currentTime=0;
      playBtn.textContent='‚ñ∂ PLAY';
    });

    audio.addEventListener('timeupdate',function(){
      var pct=audio.duration?(audio.currentTime/audio.duration*100):0;
      bar.style.width=pct+'%';
      timeEl.textContent=fmt(audio.currentTime);
    });

    audio.addEventListener('ended',function(){
      playBtn.textContent='‚ñ∂ PLAY';
      bar.style.width='0%';
      timeEl.textContent='0:00';
    });

    wrap.addEventListener('click',function(e){
      if(!audio.duration)return;
      var rect=wrap.getBoundingClientRect();
      audio.currentTime=((e.clientX-rect.left)/rect.width)*audio.duration;
    });
  }());

}());
</script>
</body>
</html>
